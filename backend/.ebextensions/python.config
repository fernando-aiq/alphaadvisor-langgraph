option_settings:
  # Configurações de ambiente Python
  aws:elasticbeanstalk:application:environment:
    PYTHONPATH: "/var/app/current:$PYTHONPATH"
    # OPENAI_API_KEY e AI_MODEL devem ser definidos no Elastic Beanstalk (Environment properties)

  aws:elasticbeanstalk:container:python:
    WSGIPath: application.py
  
  # Configurações de health check
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
    HealthCheckSuccessThreshold: Ok
  
  # Configuração do processo web
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /api/health
    HealthCheckInterval: 30
    HealthCheckTimeout: 5
    HealthyThresholdCount: 3
    UnhealthyThresholdCount: 5
  
  # Configurações de auto-scaling
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 2
  
  # Configurações de instância
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.small
  
  # Configurações de logging
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7

